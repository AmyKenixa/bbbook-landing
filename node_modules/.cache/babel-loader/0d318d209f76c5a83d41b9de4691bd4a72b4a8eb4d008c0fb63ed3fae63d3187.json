{"ast":null,"code":"var _jsxFileName = \"/Users/amycancryn/Projects/bbbook-landing/src/components/EmailCapture.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, memo } from 'react';\nimport { trackEmailSignup } from './Analytics';\nimport './EmailCapture.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmailCapture = /*#__PURE__*/_s(/*#__PURE__*/memo(_c = _s(({\n  type = 'newsletter',\n  title = \"Get Early Access to Bohemia Barcelona\",\n  subtitle = \"Be the first to know when the ultimate Barcelona relocation guide launches, plus get exclusive insider tips delivered to your inbox.\",\n  buttonText = \"Get Early Access\",\n  source = 'website'\n}) => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [status, setStatus] = useState('idle'); // idle, loading, success, error\n  const [message, setMessage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  useEffect(() => {\n    if (type === 'modal') {\n      const timer = setTimeout(() => {\n        const hasSeenModal = localStorage.getItem('bohemia-email-modal-seen');\n        if (!hasSeenModal) {\n          setShowModal(true);\n        }\n      }, 30000);\n      return () => clearTimeout(timer);\n    }\n  }, [type]);\n  useEffect(() => {\n    if (type === 'modal') {\n      const handleMouseLeave = e => {\n        if (e.clientY <= 0) {\n          const hasSeenModal = localStorage.getItem('bohemia-email-modal-seen');\n          if (!hasSeenModal) {\n            setShowModal(true);\n          }\n        }\n      };\n      document.addEventListener('mouseleave', handleMouseLeave);\n      return () => document.removeEventListener('mouseleave', handleMouseLeave);\n    }\n  }, [type]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!email || !email.includes('@')) {\n      setStatus('error');\n      setMessage('Please enter a valid email address');\n      return;\n    }\n    setStatus('loading');\n    try {\n      const formData = new FormData();\n      formData.append('auth_token', process.env.REACT_APP_ACUMBAMAIL_API_TOKEN);\n      formData.append('list_id', process.env.REACT_APP_ACUMBAMAIL_LIST_ID);\n      formData.append('merge_fields[EMAIL]', email);\n      formData.append('merge_fields[SOURCE]', source);\n      formData.append('response_type', 'json');\n      const response = await fetch('https://acumbamail.com/api/1/addSubscriber/', {\n        method: 'POST',\n        body: formData\n      });\n      await response.json();\n      setStatus('success');\n      setMessage(\"Perfect! We'll notify you when the book is available.\");\n      setEmail('');\n      if (typeof trackEmailSignup === 'function') {\n        trackEmailSignup(source, 'acumbamail');\n      }\n      if (type === 'modal') {\n        localStorage.setItem('bohemia-email-modal-seen', 'true');\n        setTimeout(() => setShowModal(false), 3000);\n      }\n    } catch (error) {\n      setStatus('success');\n      setMessage(\"Perfect! We'll notify you when the book is available.\");\n      setEmail('');\n    }\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    localStorage.setItem('bohemia-email-modal-seen', 'true');\n  };\n  const EmailForm = ({\n    className = ''\n  }) => /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: `email-capture-form ${className}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          placeholder: \"Enter your email address\",\n          className: \"form-control\",\n          disabled: status === 'loading',\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-main\",\n          disabled: status === 'loading',\n          children: status === 'loading' ? /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-spinner fa-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 37\n          }, this) : buttonText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `form-message ${status}`,\n      children: [status === 'success' && /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-check-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 36\n      }, this), status === 'error' && /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-exclamation-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 34\n      }, this), message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"privacy-note\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-lock\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), \"We respect your privacy. Unsubscribe at any time.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n  if (type === 'inline') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"email-capture-inline\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-capture-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: subtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EmailForm, {\n          className: \"inline-form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this);\n  }\n  if (type === 'banner') {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"email-capture-banner section-padding bg-grey\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-8 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"email-capture-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: subtitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(EmailForm, {\n                className: \"banner-form\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n  if (type === 'modal' && showModal) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"email-modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"modal-close\",\n          onClick: closeModal,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-times\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-envelope\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(EmailForm, {\n            className: \"modal-form\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-benefits\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-check\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 21\n                }, this), \" Early access to the complete guide\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-check\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 21\n                }, this), \" Exclusive Barcelona insider tips\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-check\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this), \" Free chapter previews\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-check\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 21\n                }, this), \" Special launch pricing\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this);\n  }\n  if (type === 'footer') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"email-capture-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Stay Updated\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Get the latest Barcelona insights and updates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EmailForm, {\n        className: \"footer-form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n}, \"hlk0L4I1Zk6Cv/XwYbZrUjFf2bs=\")), \"hlk0L4I1Zk6Cv/XwYbZrUjFf2bs=\");\n_c2 = EmailCapture;\nexport default EmailCapture;\nvar _c, _c2;\n$RefreshReg$(_c, \"EmailCapture$memo\");\n$RefreshReg$(_c2, \"EmailCapture\");","map":{"version":3,"names":["React","useState","useEffect","memo","trackEmailSignup","jsxDEV","_jsxDEV","EmailCapture","_s","_c","type","title","subtitle","buttonText","source","email","setEmail","status","setStatus","message","setMessage","showModal","setShowModal","timer","setTimeout","hasSeenModal","localStorage","getItem","clearTimeout","handleMouseLeave","e","clientY","document","addEventListener","removeEventListener","handleSubmit","preventDefault","includes","formData","FormData","append","process","env","REACT_APP_ACUMBAMAIL_API_TOKEN","REACT_APP_ACUMBAMAIL_LIST_ID","response","fetch","method","body","json","setItem","error","closeModal","EmailForm","className","onSubmit","children","value","onChange","target","placeholder","disabled","required","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c2","$RefreshReg$"],"sources":["/Users/amycancryn/Projects/bbbook-landing/src/components/EmailCapture.jsx"],"sourcesContent":["import React, { useState, useEffect, memo } from 'react';\nimport { trackEmailSignup } from './Analytics';\nimport './EmailCapture.css';\n\nconst EmailCapture = memo(({ \n  type = 'newsletter', \n  title = \"Get Early Access to Bohemia Barcelona\",\n  subtitle = \"Be the first to know when the ultimate Barcelona relocation guide launches, plus get exclusive insider tips delivered to your inbox.\",\n  buttonText = \"Get Early Access\",\n  source = 'website'\n}) => {\n  const [email, setEmail] = useState('');\n  const [status, setStatus] = useState('idle'); // idle, loading, success, error\n  const [message, setMessage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (type === 'modal') {\n      const timer = setTimeout(() => {\n        const hasSeenModal = localStorage.getItem('bohemia-email-modal-seen');\n        if (!hasSeenModal) {\n          setShowModal(true);\n        }\n      }, 30000);\n      return () => clearTimeout(timer);\n    }\n  }, [type]);\n\n  useEffect(() => {\n    if (type === 'modal') {\n      const handleMouseLeave = (e) => {\n        if (e.clientY <= 0) {\n          const hasSeenModal = localStorage.getItem('bohemia-email-modal-seen');\n          if (!hasSeenModal) {\n            setShowModal(true);\n          }\n        }\n      };\n      document.addEventListener('mouseleave', handleMouseLeave);\n      return () => document.removeEventListener('mouseleave', handleMouseLeave);\n    }\n  }, [type]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email || !email.includes('@')) {\n      setStatus('error');\n      setMessage('Please enter a valid email address');\n      return;\n    }\n    setStatus('loading');\n    try {\n      const formData = new FormData();\n      formData.append('auth_token', process.env.REACT_APP_ACUMBAMAIL_API_TOKEN);\n      formData.append('list_id', process.env.REACT_APP_ACUMBAMAIL_LIST_ID);\n      formData.append('merge_fields[EMAIL]', email);\n      formData.append('merge_fields[SOURCE]', source);\n      formData.append('response_type', 'json');\n\n      const response = await fetch('https://acumbamail.com/api/1/addSubscriber/', {\n        method: 'POST',\n        body: formData\n      });\n      await response.json();\n      setStatus('success');\n      setMessage(\"Perfect! We'll notify you when the book is available.\");\n      setEmail('');\n\n      if (typeof trackEmailSignup === 'function') {\n        trackEmailSignup(source, 'acumbamail');\n      }\n\n      if (type === 'modal') {\n        localStorage.setItem('bohemia-email-modal-seen', 'true');\n        setTimeout(() => setShowModal(false), 3000);\n      }\n    } catch (error) {\n      setStatus('success');\n      setMessage(\"Perfect! We'll notify you when the book is available.\");\n      setEmail('');\n    }\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    localStorage.setItem('bohemia-email-modal-seen', 'true');\n  };\n\n  const EmailForm = ({ className = '' }) => (\n    <form onSubmit={handleSubmit} className={`email-capture-form ${className}`}>\n      <div className=\"form-group\">\n        <div className=\"input-group\">\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"Enter your email address\"\n            className=\"form-control\"\n            disabled={status === 'loading'}\n            required\n          />\n          <button type=\"submit\" className=\"btn btn-main\" disabled={status === 'loading'}>\n            {status === 'loading' ? <i className=\"fa fa-spinner fa-spin\"></i> : buttonText}\n          </button>\n        </div>\n      </div>\n      {message && (\n        <div className={`form-message ${status}`}>\n          {status === 'success' && <i className=\"fa fa-check-circle\"></i>}\n          {status === 'error' && <i className=\"fa fa-exclamation-circle\"></i>}\n          {message}\n        </div>\n      )}\n      <p className=\"privacy-note\">\n        <i className=\"fa fa-lock\"></i>\n        We respect your privacy. Unsubscribe at any time.\n      </p>\n    </form>\n  );\n\n  if (type === 'inline') {\n    return (\n      <div className=\"email-capture-inline\">\n        <div className=\"email-capture-content\">\n          <h4>{title}</h4>\n          <p>{subtitle}</p>\n          <EmailForm className=\"inline-form\" />\n        </div>\n      </div>\n    );\n  }\n\n  if (type === 'banner') {\n    return (\n      <section className=\"email-capture-banner section-padding bg-grey\">\n        <div className=\"container\">\n          <div className=\"row justify-content-center\">\n            <div className=\"col-lg-8 text-center\">\n              <div className=\"email-capture-content\">\n                <h3>{title}</h3>\n                <p className=\"lead\">{subtitle}</p>\n                <EmailForm className=\"banner-form\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n\n  if (type === 'modal' && showModal) {\n    return (\n      <div className=\"email-modal-overlay\">\n        <div className=\"email-modal\">\n          <button className=\"modal-close\" onClick={closeModal}>\n            <i className=\"fa fa-times\"></i>\n          </button>\n          <div className=\"modal-content\">\n            <div className=\"modal-icon\">\n              <i className=\"fa fa-envelope\"></i>\n            </div>\n            <h3>{title}</h3>\n            <p>{subtitle}</p>\n            <EmailForm className=\"modal-form\" />\n            <div className=\"modal-benefits\">\n              <ul>\n                <li><i className=\"fa fa-check\"></i> Early access to the complete guide</li>\n                <li><i className=\"fa fa-check\"></i> Exclusive Barcelona insider tips</li>\n                <li><i className=\"fa fa-check\"></i> Free chapter previews</li>\n                <li><i className=\"fa fa-check\"></i> Special launch pricing</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (type === 'footer') {\n    return (\n      <div className=\"email-capture-footer\">\n        <h5>Stay Updated</h5>\n        <p>Get the latest Barcelona insights and updates</p>\n        <EmailForm className=\"footer-form\" />\n      </div>\n    );\n  }\n\n  return null;\n});\n\nexport default EmailCapture;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}